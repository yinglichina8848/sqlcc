ğŸ§ª Error Handling Integration Test
===================================

âŒ 1. Basic Error Creation
âœ… Error created: [ERROR] query.sql:1:5: Unexpected token 'SELECT'
âœ… Error JSON: {"type":2,"severity":2,"message":"Unexpected token 'SELECT'","location":{"file":"query.sql","line":1,"column":5}}
âœ… Error with suggestion: [ERROR] query.sql:1:5: Unexpected token 'SELECT' (Suggestion: Did you mean 'FROM'?)

ğŸ“‹ 2. Error Collector Functionality
âœ… Error count: 0
âœ… Warning count: 3
âœ… Total count: 3
âœ… Has errors: No
âœ… Has fatal errors: No

ğŸ” 3. Error Filtering and Search
âœ… Found 0 lexical errors

ğŸ“„ 4. Error Formatting
Console format:
Warnings (3):
  1. [WARNING] input.sql:1:10: Invalid character found
  2. [WARNING] test.sql:1:1: This is a warning message
  3. [INFO] test.sql:1:1: This is an informational message

JSON format:
{"errors":[],"warnings":[{"type":0,"severity":1,"message":"Invalid character found","location":{"file":"input.sql","line":1,"column":10}},{"type":7,"severity":1,"message":"This is a warning message","location":{"file":"test.sql","line":1,"column":1}},{"type":7,"severity":0,"message":"This is an informational message","location":{"file":"test.sql","line":1,"column":1}}]}
IDE format:
input.sql(1,10): warning: Invalid character found
test.sql(1,1): warning: This is a warning message
test.sql(1,1): warning: This is an informational message


ğŸ”§ 5. Parser Error Generation
Testing SQL 1: SELCT * FROM users
Testing SQL 2: SELECT * FROM users WHERE id = 'string'
Testing SQL 3: SELECT * FROM unknown_table
Testing SQL 4: SELECT * FROM users  
Testing SQL 5: SELECT * FROM users
Testing SQL 6: SELECT * FROM users WHERE name = 'unterminated

ğŸ“Š Parser generated 11 issues:
Errors (9):
  1. [ERROR] input.sql:1:19: Missing semicolon at end of statement
  2. [ERROR] input.sql:1:1: Unexpected token 'SELCT', did you mean 'SELECT'?
  3. [ERROR] input.sql:1:40: Missing semicolon at end of statement
  4. [ERROR] input.sql:1:28: Missing semicolon at end of statement
  5. [ERROR] input.sql:1:15: Table 'unknown_table' does not exist
  6. [ERROR] input.sql:1:22: Missing semicolon at end of statement
  7. [ERROR] input.sql:1:21: Missing semicolon at end of statement
  8. [ERROR] input.sql:1:46: Unterminated string literal
  9. [ERROR] input.sql:1:47: Missing semicolon at end of statement
Warnings (2):
  1. [WARNING] input.sql:1:30: Type mismatch: cannot compare integer with string
  2. [WARNING] input.sql:1:20: Invalid character: 1


ğŸ“ˆ 6. Error Statistics and Aggregation
âœ… Combined total: 14 issues
âœ… Combined errors: 9
âœ… Combined warnings: 5

ğŸ”„ 7. Error Recovery Simulation
Step 1: Parse statement 1
  Current error count: 1
  Current warning count: 0
Step 2: Parse statement 2
  Current error count: 1
  Current warning count: 1
Step 3: Parse statement 3
  Current error count: 1
  Current warning count: 1

Recovery session summary:
Errors (1):
  1. [ERROR] recovery.sql:1:5: Syntax error in statement 1
Warnings (1):
  1. [WARNING] recovery.sql:2:10: Warning in statement 2


ğŸ§¹ 8. Error Clearing and Reset
Before clearing: 14 issues
After clearing: 0 issues
Collector is empty: Yes

===================================
ğŸ‰ Error Handling Integration Test PASSED!
âœ… åŸºç¡€é”™è¯¯åˆ›å»º: ParseErrorç±»åŠŸèƒ½æ­£å¸¸
âœ… é”™è¯¯æ”¶é›†å™¨: å¤šé”™è¯¯ç®¡ç†å’Œè¿‡æ»¤æ­£å¸¸
âœ… é”™è¯¯æ ¼å¼åŒ–: å¤šæ ¼å¼è¾“å‡ºæ”¯æŒå®Œæ•´
âœ… è§£æå™¨é›†æˆ: æ¨¡æ‹Ÿè§£æå™¨é”™è¯¯ç”Ÿæˆæ­£å¸¸
âœ… é”™è¯¯ç»Ÿè®¡: èšåˆå’Œç»Ÿè®¡åŠŸèƒ½æ­£å¸¸
âœ… é”™è¯¯æ¢å¤: æ¨¡æ‹Ÿæ¢å¤åœºæ™¯å¤„ç†æ­£å¸¸
âœ… æ¸…ç†é‡ç½®: é”™è¯¯çŠ¶æ€ç®¡ç†æ­£å¸¸
âœ… è¾¹ç•Œæƒ…å†µ: å„ç§è¾¹ç•Œæ¡ä»¶å¤„ç†æ­£ç¡®
