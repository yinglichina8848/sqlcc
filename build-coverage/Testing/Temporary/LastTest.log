Start testing: Nov 12 02:58 CST
----------------------------------------------------------
1/10 Testing: storage_engine_test
1/10 Test: storage_engine_test
Command: "/home/liying/sqlcc/build-coverage/bin/storage_engine_test"
Directory: /home/liying/sqlcc/build-coverage/tests
"storage_engine_test" start time: Nov 12 02:58 CST
Output:
----------------------------------------------------------
[==========] Running 7 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 7 tests from StorageEngineTest
[ RUN      ] StorageEngineTest.InitializeStorageEngine
[2025-11-12 02:58:39.722] [INFO] Initializing StorageEngine with database file: test_db.db and pool size: 64
[2025-11-12 02:58:39.722] [INFO] Initializing DiskManager for database file: test_db.db
[2025-11-12 02:58:39.722] [INFO] Opened database file: test_db.db, file size: 0, next page ID: 0
[2025-11-12 02:58:39.722] [INFO] Initializing BufferPool with pool size: 64
[2025-11-12 02:58:39.722] [INFO] StorageEngine initialized successfully
[2025-11-12 02:58:39.722] [INFO] Destroying StorageEngine
[2025-11-12 02:58:39.723] [INFO] Destroying BufferPool
[2025-11-12 02:58:39.723] [INFO] Closing database file: test_db.db
[       OK ] StorageEngineTest.InitializeStorageEngine (0 ms)
[ RUN      ] StorageEngineTest.CreateNewPage
[2025-11-12 02:58:39.723] [INFO] Initializing StorageEngine with database file: test_db.db and pool size: 64
[2025-11-12 02:58:39.723] [INFO] Initializing DiskManager for database file: test_db.db
[2025-11-12 02:58:39.723] [INFO] Opened database file: test_db.db, file size: 0, next page ID: 0
[2025-11-12 02:58:39.723] [INFO] Initializing BufferPool with pool size: 64
[2025-11-12 02:58:39.723] [INFO] StorageEngine initialized successfully
[2025-11-12 02:58:39.723] [INFO] Destroying StorageEngine
[2025-11-12 02:58:39.723] [INFO] Destroying BufferPool
[2025-11-12 02:58:39.723] [INFO] Closing database file: test_db.db
[       OK ] StorageEngineTest.CreateNewPage (0 ms)
[ RUN      ] StorageEngineTest.FetchPage
[2025-11-12 02:58:39.723] [INFO] Initializing StorageEngine with database file: test_db.db and pool size: 64
[2025-11-12 02:58:39.723] [INFO] Initializing DiskManager for database file: test_db.db
[2025-11-12 02:58:39.723] [INFO] Opened database file: test_db.db, file size: 0, next page ID: 0
[2025-11-12 02:58:39.723] [INFO] Initializing BufferPool with pool size: 64
[2025-11-12 02:58:39.723] [INFO] StorageEngine initialized successfully
[2025-11-12 02:58:39.723] [INFO] Destroying StorageEngine
[2025-11-12 02:58:39.723] [INFO] Destroying BufferPool
[2025-11-12 02:58:39.723] [INFO] Closing database file: test_db.db
[       OK ] StorageEngineTest.FetchPage (0 ms)
[ RUN      ] StorageEngineTest.FlushPage
[2025-11-12 02:58:39.723] [INFO] Initializing StorageEngine with database file: test_db.db and pool size: 64
[2025-11-12 02:58:39.723] [INFO] Initializing DiskManager for database file: test_db.db
[2025-11-12 02:58:39.723] [INFO] Opened database file: test_db.db, file size: 0, next page ID: 0
[2025-11-12 02:58:39.723] [INFO] Initializing BufferPool with pool size: 64
[2025-11-12 02:58:39.723] [INFO] StorageEngine initialized successfully
[2025-11-12 02:58:39.723] [INFO] Destroying StorageEngine
[2025-11-12 02:58:39.723] [INFO] Destroying BufferPool
[2025-11-12 02:58:39.723] [INFO] Closing database file: test_db.db
[       OK ] StorageEngineTest.FlushPage (0 ms)
[ RUN      ] StorageEngineTest.DeletePage
[2025-11-12 02:58:39.723] [INFO] Initializing StorageEngine with database file: test_db.db and pool size: 64
[2025-11-12 02:58:39.723] [INFO] Initializing DiskManager for database file: test_db.db
[2025-11-12 02:58:39.723] [INFO] Opened database file: test_db.db, file size: 0, next page ID: 0
[2025-11-12 02:58:39.723] [INFO] Initializing BufferPool with pool size: 64
[2025-11-12 02:58:39.723] [INFO] StorageEngine initialized successfully
<end of output>
Test time = 300.05 sec
----------------------------------------------------------
Test Failed.
"storage_engine_test" end time: Nov 12 03:03 CST
"storage_engine_test" time elapsed: 00:05:00
----------------------------------------------------------

2/10 Testing: buffer_pool_test
2/10 Test: buffer_pool_test
Command: "/home/liying/sqlcc/build-coverage/bin/buffer_pool_test"
Directory: /home/liying/sqlcc/build-coverage/tests
"buffer_pool_test" start time: Nov 12 03:03 CST
Output:
----------------------------------------------------------
Running main() from ./googletest/src/gtest_main.cc
[==========] Running 32 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 32 tests from BufferPoolTest
[ RUN      ] BufferPoolTest.BasicFetchAndUnpin
[2025-11-12 03:03:47.672] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.672] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.672] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.672] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.672] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.BasicFetchAndUnpin (0 ms)
[ RUN      ] BufferPoolTest.LRUReplacement
[2025-11-12 03:03:47.672] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.672] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.672] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.672] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.672] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.LRUReplacement (0 ms)
[ RUN      ] BufferPoolTest.DirtyPageFlush
[2025-11-12 03:03:47.672] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.672] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.672] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.673] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.673] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.DirtyPageFlush (0 ms)
[ RUN      ] BufferPoolTest.PageDeletion
[2025-11-12 03:03:47.673] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.673] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.673] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.673] [WARN] Page 0 does not exist in file
[2025-11-12 03:03:47.673] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.673] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.PageDeletion (0 ms)
[ RUN      ] BufferPoolTest.DeletePageInUse
[2025-11-12 03:03:47.673] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.673] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.673] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.673] [WARN] Page ID 0 is still referenced, cannot delete
[2025-11-12 03:03:47.673] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.673] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.DeletePageInUse (0 ms)
[ RUN      ] BufferPoolTest.BufferPoolFullReplacement
[2025-11-12 03:03:47.673] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.673] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.673] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.673] [WARN] No page can be replaced in buffer pool
[2025-11-12 03:03:47.673] [ERROR] Failed to replace page in buffer pool for new page allocation
/home/liying/sqlcc/tests/buffer_pool_test.cc:188: Failure
Expected: { buffer_pool_->NewPage(&new_page_id); } throws an exception of type BufferPoolException.
  Actual: it throws nothing.

[2025-11-12 03:03:47.673] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.673] [INFO] Closing database file: test_buffer_pool.db
[  FAILED  ] BufferPoolTest.BufferPoolFullReplacement (0 ms)
[ RUN      ] BufferPoolTest.FlushAllPages
[2025-11-12 03:03:47.673] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.673] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.673] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.673] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.673] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.FlushAllPages (0 ms)
[ RUN      ] BufferPoolTest.FetchNonExistentPage
[2025-11-12 03:03:47.673] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.673] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.673] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.673] [WARN] Page 99999 does not exist in file
[2025-11-12 03:03:47.673] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.673] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.FetchNonExistentPage (0 ms)
[ RUN      ] BufferPoolTest.DoubleUnpinPage
[2025-11-12 03:03:47.673] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.673] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.673] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.673] [ERROR] Page ID 0 reference count is negative
/home/liying/sqlcc/tests/buffer_pool_test.cc:269: Failure
Value of: second_unpin
  Actual: true
Expected: false

[2025-11-12 03:03:47.673] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.673] [INFO] Closing database file: test_buffer_pool.db
[  FAILED  ] BufferPoolTest.DoubleUnpinPage (0 ms)
[ RUN      ] BufferPoolTest.FlushNonExistentPage
[2025-11-12 03:03:47.673] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.673] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.673] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.674] [WARN] Page ID 99999 not found in buffer pool
[2025-11-12 03:03:47.674] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.674] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.FlushNonExistentPage (0 ms)
[ RUN      ] BufferPoolTest.DeleteNonExistentPage
[2025-11-12 03:03:47.674] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.674] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.674] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.674] [WARN] Page ID 99999 not found in buffer pool
[2025-11-12 03:03:47.674] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.674] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.DeleteNonExistentPage (0 ms)
[ RUN      ] BufferPoolTest.LRUListOperations
[2025-11-12 03:03:47.674] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.674] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.674] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.674] [WARN] Page 1 does not exist in file
[2025-11-12 03:03:47.674] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.674] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.LRUListOperations (0 ms)
[ RUN      ] BufferPoolTest.SimpleReplacement
[2025-11-12 03:03:47.674] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.674] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.674] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.674] [INFO] Created 4 pages with IDs: 0, 1, 2, 3
[2025-11-12 03:03:47.674] [INFO] Created new page with ID: 4
[2025-11-12 03:03:47.674] [INFO] Checking availability of original page ID: 0
[2025-11-12 03:03:47.674] [INFO] Page ID 0 is NOT available (was replaced)
[2025-11-12 03:03:47.674] [INFO] Checking availability of original page ID: 1
[2025-11-12 03:03:47.674] [INFO] Page ID 1 is still available
[2025-11-12 03:03:47.674] [INFO] Checking availability of original page ID: 2
[2025-11-12 03:03:47.674] [INFO] Page ID 2 is still available
[2025-11-12 03:03:47.674] [INFO] Checking availability of original page ID: 3
[2025-11-12 03:03:47.674] [INFO] Page ID 3 is still available
[2025-11-12 03:03:47.674] [INFO] Unavailable pages: 1
[2025-11-12 03:03:47.674] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.674] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.SimpleReplacement (0 ms)
[ RUN      ] BufferPoolTest.ConcurrentAccess
[2025-11-12 03:03:47.674] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.674] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.674] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.674] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.674] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.ConcurrentAccess (0 ms)
[ RUN      ] BufferPoolTest.FlushNonDirtyPage
[2025-11-12 03:03:47.674] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.674] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.675] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.675] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.675] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.FlushNonDirtyPage (0 ms)
[ RUN      ] BufferPoolTest.FlushFailureSimulation
[2025-11-12 03:03:47.675] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.675] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.675] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.675] [ERROR] Simulated flush failure for page ID 0
[2025-11-12 03:03:47.675] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.675] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.FlushFailureSimulation (0 ms)
[ RUN      ] BufferPoolTest.FlushAllPagesWithFailure
[2025-11-12 03:03:47.675] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.675] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.675] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.675] [INFO] Destroying BufferPool
[2025-11-12 03:03:47.675] [INFO] Closing database file: test_buffer_pool.db
[       OK ] BufferPoolTest.FlushAllPagesWithFailure (0 ms)
[ RUN      ] BufferPoolTest.ReplacePageWithFlushFailure
[2025-11-12 03:03:47.675] [INFO] Initializing DiskManager for database file: test_buffer_pool.db
[2025-11-12 03:03:47.675] [INFO] Opened database file: test_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:03:47.675] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:03:47.675] [WARN] Page ID 2 is still referenced, cannot delete
<end of output>
Test time = 300.09 sec
----------------------------------------------------------
Test Failed.
"buffer_pool_test" end time: Nov 12 03:08 CST
"buffer_pool_test" time elapsed: 00:05:00
----------------------------------------------------------

3/10 Testing: storage_engine_newpage_test
3/10 Test: storage_engine_newpage_test
Command: "/home/liying/sqlcc/build-coverage/bin/storage_engine_newpage_test"
Directory: /home/liying/sqlcc/build-coverage/tests
"storage_engine_newpage_test" start time: Nov 12 03:08 CST
Output:
----------------------------------------------------------
Running main() from ./googletest/src/gtest_main.cc
[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from StorageEngineNewPageTest
[ RUN      ] StorageEngineNewPageTest.NewPageFailure
[2025-11-12 03:08:56.440] [INFO] Initializing StorageEngine with database file: test_newpage.db and pool size: 64
[2025-11-12 03:08:56.440] [INFO] Initializing DiskManager for database file: test_newpage.db
[2025-11-12 03:08:56.440] [INFO] Opened database file: test_newpage.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.441] [INFO] Initializing BufferPool with pool size: 64
[2025-11-12 03:08:56.441] [INFO] StorageEngine initialized successfully
/home/liying/sqlcc/tests/storage_engine_newpage_test.cc:36: Failure
Expected equality of these values:
  page
    Which is: 0x5dfd6058ef80
  nullptr
    Which is: (nullptr)

[2025-11-12 03:08:56.441] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.441] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.441] [INFO] Closing database file: test_newpage.db
[  FAILED  ] StorageEngineNewPageTest.NewPageFailure (0 ms)
[ RUN      ] StorageEngineNewPageTest.NewPageFailureFromBufferPool
[2025-11-12 03:08:56.441] [INFO] Initializing StorageEngine with database file: test_newpage.db and pool size: 64
[2025-11-12 03:08:56.441] [INFO] Initializing DiskManager for database file: test_newpage.db
[2025-11-12 03:08:56.441] [INFO] Opened database file: test_newpage.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.441] [INFO] Initializing BufferPool with pool size: 64
[2025-11-12 03:08:56.441] [INFO] StorageEngine initialized successfully
/home/liying/sqlcc/tests/storage_engine_newpage_test.cc:62: Failure
Expected equality of these values:
  page
    Which is: 0x5dfd60593e60
  nullptr
    Which is: (nullptr)

[2025-11-12 03:08:56.441] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.441] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.441] [INFO] Closing database file: test_newpage.db
[  FAILED  ] StorageEngineNewPageTest.NewPageFailureFromBufferPool (0 ms)
[----------] 2 tests from StorageEngineNewPageTest (0 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 0 tests.
[  FAILED  ] 2 tests, listed below:
[  FAILED  ] StorageEngineNewPageTest.NewPageFailure
[  FAILED  ] StorageEngineNewPageTest.NewPageFailureFromBufferPool

 2 FAILED TESTS
<end of output>
Test time =   0.00 sec
----------------------------------------------------------
Test Failed.
"storage_engine_newpage_test" end time: Nov 12 03:08 CST
"storage_engine_newpage_test" time elapsed: 00:00:00
----------------------------------------------------------

4/10 Testing: disk_manager_test
4/10 Test: disk_manager_test
Command: "/home/liying/sqlcc/build-coverage/bin/disk_manager_test"
Directory: /home/liying/sqlcc/build-coverage/tests
"disk_manager_test" start time: Nov 12 03:08 CST
Output:
----------------------------------------------------------
[==========] Running 33 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 33 tests from DiskManagerTest
[ RUN      ] DiskManagerTest.InitializeDiskManager
[2025-11-12 03:08:56.444] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.444] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.444] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.InitializeDiskManager (0 ms)
[ RUN      ] DiskManagerTest.WritePage
[2025-11-12 03:08:56.444] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.444] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.444] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.WritePage (0 ms)
[ RUN      ] DiskManagerTest.ReadPage
[2025-11-12 03:08:56.444] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.444] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.444] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.ReadPage (0 ms)
[ RUN      ] DiskManagerTest.AllocatePage
[2025-11-12 03:08:56.444] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.444] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.444] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.AllocatePage (0 ms)
[ RUN      ] DiskManagerTest.GetFileSize
[2025-11-12 03:08:56.444] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.444] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.444] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.GetFileSize (0 ms)
[ RUN      ] DiskManagerTest.WriteInvalidPageId
[2025-11-12 03:08:56.444] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.444] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.444] [ERROR] Invalid page ID: -1
[2025-11-12 03:08:56.445] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.WriteInvalidPageId (0 ms)
[ RUN      ] DiskManagerTest.ReadInvalidPageId
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.445] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.445] [ERROR] Invalid page ID: -1 or null page data pointer
[2025-11-12 03:08:56.445] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.ReadInvalidPageId (0 ms)
[ RUN      ] DiskManagerTest.ReadNonExistentPage
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.445] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.445] [WARN] Page 100 does not exist in file
[2025-11-12 03:08:56.445] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.ReadNonExistentPage (0 ms)
[ RUN      ] DiskManagerTest.ReadPageWithNullPointer
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.445] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.445] [ERROR] Invalid page ID: 0 or null page data pointer
[2025-11-12 03:08:56.445] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.ReadPageWithNullPointer (0 ms)
[ RUN      ] DiskManagerTest.WritePageToReadOnlyFile
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.445] [INFO] Database file does not exist, creating new file: test_disk_manager.db
[2025-11-12 03:08:56.445] [ERROR] Failed to open database file: test_disk_manager.db
[       OK ] DiskManagerTest.WritePageToReadOnlyFile (0 ms)
[ RUN      ] DiskManagerTest.CreateDiskManagerWithInvalidPath
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: /invalid/path/that/does/not/exist/test.db
[2025-11-12 03:08:56.445] [INFO] Database file does not exist, creating new file: /invalid/path/that/does/not/exist/test.db
[2025-11-12 03:08:56.445] [ERROR] Failed to open database file: /invalid/path/that/does/not/exist/test.db
[       OK ] DiskManagerTest.CreateDiskManagerWithInvalidPath (0 ms)
[ RUN      ] DiskManagerTest.SimulateDiskFull
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: temp_disk_full_test.db
[2025-11-12 03:08:56.445] [INFO] Database file does not exist, creating new file: temp_disk_full_test.db
[2025-11-12 03:08:56.445] [ERROR] Failed to open database file: temp_disk_full_test.db
[       OK ] DiskManagerTest.SimulateDiskFull (0 ms)
[ RUN      ] DiskManagerTest.SimulateReadPageSeekFailure
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: temp_read_seek_test.db
[2025-11-12 03:08:56.445] [INFO] Opened database file: temp_read_seek_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.445] [WARN] Page 100 does not exist in file
[2025-11-12 03:08:56.445] [INFO] Closing database file: temp_read_seek_test.db
[       OK ] DiskManagerTest.SimulateReadPageSeekFailure (0 ms)
[ RUN      ] DiskManagerTest.SimulateWritePageFailure
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: temp_write_fail_test.db
[2025-11-12 03:08:56.445] [INFO] Opened database file: temp_write_fail_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.445] [INFO] Closing database file: temp_write_fail_test.db
[       OK ] DiskManagerTest.SimulateWritePageFailure (0 ms)
[ RUN      ] DiskManagerTest.SimulateWritePageFlushFailure
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: temp_flush_fail_test.db
[2025-11-12 03:08:56.445] [INFO] Opened database file: temp_flush_fail_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.445] [ERROR] Failed to flush page 0 to disk
[2025-11-12 03:08:56.445] [INFO] Closing database file: temp_flush_fail_test.db
[       OK ] DiskManagerTest.SimulateWritePageFlushFailure (0 ms)
[ RUN      ] DiskManagerTest.SimulateReadPageSeekFailure2
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: temp_read_seek_fail_test.db
[2025-11-12 03:08:56.445] [INFO] Opened database file: temp_read_seek_fail_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.445] [ERROR] Failed to seek to page 0
[2025-11-12 03:08:56.445] [INFO] Closing database file: temp_read_seek_fail_test.db
[       OK ] DiskManagerTest.SimulateReadPageSeekFailure2 (0 ms)
[ RUN      ] DiskManagerTest.MultiplePagesReadWrite
[2025-11-12 03:08:56.445] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.445] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.446] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.MultiplePagesReadWrite (0 ms)
[ RUN      ] DiskManagerTest.ConstructorFileCreation
[2025-11-12 03:08:56.446] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.446] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.446] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.ConstructorFileCreation (0 ms)
[ RUN      ] DiskManagerTest.ConstructorFileOpenFailure
[2025-11-12 03:08:56.449] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.449] [INFO] Database file does not exist, creating new file: test_disk_manager.db
[2025-11-12 03:08:56.449] [ERROR] Failed to open database file: test_disk_manager.db
[       OK ] DiskManagerTest.ConstructorFileOpenFailure (3 ms)
[ RUN      ] DiskManagerTest.WritePageInvalidPageId
[2025-11-12 03:08:56.449] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.449] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.449] [ERROR] Invalid page ID: -1
[2025-11-12 03:08:56.449] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.WritePageInvalidPageId (0 ms)
[ RUN      ] DiskManagerTest.ReadPageInvalidParameters
[2025-11-12 03:08:56.449] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.449] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.449] [ERROR] Invalid page ID: -1 or null page data pointer
[2025-11-12 03:08:56.449] [ERROR] Invalid page ID: 0 or null page data pointer
[2025-11-12 03:08:56.449] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.ReadPageInvalidParameters (0 ms)
[ RUN      ] DiskManagerTest.SimulateWritePageSeekFailure
[2025-11-12 03:08:56.449] [INFO] Initializing DiskManager for database file: temp_write_seek_fail_test.db
[2025-11-12 03:08:56.449] [INFO] Opened database file: temp_write_seek_fail_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.449] [ERROR] Failed to seek to page 0
[2025-11-12 03:08:56.449] [INFO] Closing database file: temp_write_seek_fail_test.db
[       OK ] DiskManagerTest.SimulateWritePageSeekFailure (0 ms)
[ RUN      ] DiskManagerTest.WritePageSeekFailure
[2025-11-12 03:08:56.449] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.449] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.449] [ERROR] Failed to seek to page 1
[2025-11-12 03:08:56.449] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.WritePageSeekFailure (0 ms)
[ RUN      ] DiskManagerTest.WritePageWriteFailure
[2025-11-12 03:08:56.449] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.449] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
/home/liying/sqlcc/tests/disk_manager_test.cc:542: Failure
Value of: manager.WritePage(page.GetPageId(), page.GetData())
  Actual: true
Expected: false

[2025-11-12 03:08:56.449] [INFO] Closing database file: test_disk_manager.db
[  FAILED  ] DiskManagerTest.WritePageWriteFailure (0 ms)
[ RUN      ] DiskManagerTest.WritePageFlushFailure
[2025-11-12 03:08:56.449] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.449] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
/home/liying/sqlcc/tests/disk_manager_test.cc:566: Failure
Value of: manager.WritePage(page.GetPageId(), page.GetData())
  Actual: true
Expected: false

[2025-11-12 03:08:56.449] [INFO] Closing database file: test_disk_manager.db
[  FAILED  ] DiskManagerTest.WritePageFlushFailure (0 ms)
[ RUN      ] DiskManagerTest.ReadPageSeekFailure
[2025-11-12 03:08:56.450] [INFO] Initializing DiskManager for database file: temp_read_seek_test.db
[2025-11-12 03:08:56.450] [INFO] Opened database file: temp_read_seek_test.db, file size: 0, next page ID: 0
/home/liying/sqlcc/tests/disk_manager_test.cc:595: Failure
Value of: manager.ReadPage(0, read_data)
  Actual: true
Expected: false

[2025-11-12 03:08:56.450] [INFO] Closing database file: temp_read_seek_test.db
[  FAILED  ] DiskManagerTest.ReadPageSeekFailure (0 ms)
[ RUN      ] DiskManagerTest.SimulateReadPageReadFailure
[2025-11-12 03:08:56.450] [INFO] Initializing DiskManager for database file: temp_read_fail_test.db
[2025-11-12 03:08:56.450] [INFO] Opened database file: temp_read_fail_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.450] [WARN] Page 1000 does not exist in file
[2025-11-12 03:08:56.450] [INFO] Initializing DiskManager for database file: temp_read_fail_test.db
[2025-11-12 03:08:56.450] [INFO] Opened database file: temp_read_fail_test.db, file size: 9, next page ID: 0
[2025-11-12 03:08:56.450] [ERROR] Failed to read page 0
[2025-11-12 03:08:56.450] [INFO] Closing database file: temp_read_fail_test.db
[2025-11-12 03:08:56.450] [INFO] Closing database file: temp_read_fail_test.db
[       OK ] DiskManagerTest.SimulateReadPageReadFailure (0 ms)
[ RUN      ] DiskManagerTest.ConfigChangeCallback
[2025-11-12 03:08:56.450] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.450] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.450] [INFO] Direct I/O enabled
[2025-11-12 03:08:56.450] [INFO] Direct I/O enabled
Error in config change callback for key disk_manager.enable_direct_io: Invalid argument
[2025-11-12 03:08:56.450] [INFO] Direct I/O enabled
[2025-11-12 03:08:56.450] [INFO] Direct I/O enabled
[2025-11-12 03:08:56.450] [INFO] I/O queue depth updated to: 128
[2025-11-12 03:08:56.450] [INFO] I/O queue depth updated to: 128
Error in config change callback for key disk_manager.io_queue_depth: Invalid argument
[2025-11-12 03:08:56.450] [INFO] I/O queue depth updated to: 128
[2025-11-12 03:08:56.450] [INFO] I/O queue depth updated to: 128
[2025-11-12 03:08:56.450] [INFO] Async I/O disabled
[2025-11-12 03:08:56.450] [INFO] Async I/O disabled
Error in config change callback for key disk_manager.enable_async_io: Invalid argument
[2025-11-12 03:08:56.450] [INFO] Async I/O disabled
[2025-11-12 03:08:56.450] [INFO] Async I/O disabled
[2025-11-12 03:08:56.450] [INFO] Batch I/O size updated to: 64
[2025-11-12 03:08:56.450] [INFO] Batch I/O size updated to: 64
Error in config change callback for key disk_manager.batch_io_size: Invalid argument
[2025-11-12 03:08:56.450] [INFO] Batch I/O size updated to: 64
[2025-11-12 03:08:56.450] [INFO] Batch I/O size updated to: 64
[2025-11-12 03:08:56.450] [INFO] Sync strategy updated to: immediate
[2025-11-12 03:08:56.450] [INFO] Sync strategy updated to: immediate
Error in config change callback for key disk_manager.sync_strategy: Invalid argument
[2025-11-12 03:08:56.451] [INFO] Sync strategy updated to: immediate
[2025-11-12 03:08:56.451] [INFO] Sync strategy updated to: immediate
[2025-11-12 03:08:56.451] [INFO] Sync interval updated to: 1000
[2025-11-12 03:08:56.451] [INFO] Sync interval updated to: 1000
Error in config change callback for key disk_manager.sync_interval: Invalid argument
[2025-11-12 03:08:56.451] [INFO] Sync interval updated to: 1000
[2025-11-12 03:08:56.451] [INFO] Sync interval updated to: 1000
[2025-11-12 03:08:56.451] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.ConfigChangeCallback (0 ms)
[ RUN      ] DiskManagerTest.NullPointerValidation
[2025-11-12 03:08:56.451] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.451] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.451] [ERROR] Null page data pointer for page ID: 0
[2025-11-12 03:08:56.451] [ERROR] Invalid page ID: 0 or null page data pointer
[2025-11-12 03:08:56.451] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.NullPointerValidation (0 ms)
[ RUN      ] DiskManagerTest.BatchReadPages
[2025-11-12 03:08:56.451] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.451] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.451] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.BatchReadPages (0 ms)
[ RUN      ] DiskManagerTest.PrefetchPage
[2025-11-12 03:08:56.451] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.451] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.451] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.PrefetchPage (0 ms)
[ RUN      ] DiskManagerTest.BatchPrefetchPages
[2025-11-12 03:08:56.451] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.451] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.451] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.BatchPrefetchPages (0 ms)
[ RUN      ] DiskManagerTest.DeallocatePage
[2025-11-12 03:08:56.451] [INFO] Initializing DiskManager for database file: test_disk_manager.db
[2025-11-12 03:08:56.451] [INFO] Opened database file: test_disk_manager.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.451] [INFO] Closing database file: test_disk_manager.db
[       OK ] DiskManagerTest.DeallocatePage (0 ms)
[----------] 33 tests from DiskManagerTest (7 ms total)

[----------] Global test environment tear-down
[==========] 33 tests from 1 test suite ran. (7 ms total)
[  PASSED  ] 30 tests.
[  FAILED  ] 3 tests, listed below:
[  FAILED  ] DiskManagerTest.WritePageWriteFailure
[  FAILED  ] DiskManagerTest.WritePageFlushFailure
[  FAILED  ] DiskManagerTest.ReadPageSeekFailure

 3 FAILED TESTS
<end of output>
Test time =   0.01 sec
----------------------------------------------------------
Test Failed.
"disk_manager_test" end time: Nov 12 03:08 CST
"disk_manager_test" time elapsed: 00:00:00
----------------------------------------------------------

5/10 Testing: config_manager_test
5/10 Test: config_manager_test
Command: "/home/liying/sqlcc/build-coverage/bin/config_manager_test"
Directory: /home/liying/sqlcc/build-coverage/tests
"config_manager_test" start time: Nov 12 03:08 CST
Output:
----------------------------------------------------------
Running main() from ./googletest/src/gtest_main.cc
[==========] Running 13 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 13 tests from ConfigManagerTest
[ RUN      ] ConfigManagerTest.SingletonPattern
[       OK ] ConfigManagerTest.SingletonPattern (0 ms)
[ RUN      ] ConfigManagerTest.LoadConfig
[       OK ] ConfigManagerTest.LoadConfig (0 ms)
[ RUN      ] ConfigManagerTest.LoadConfigWithEnv
[       OK ] ConfigManagerTest.LoadConfigWithEnv (0 ms)
[ RUN      ] ConfigManagerTest.GetConfigValues
[       OK ] ConfigManagerTest.GetConfigValues (0 ms)
[ RUN      ] ConfigManagerTest.SetConfigValues
[       OK ] ConfigManagerTest.SetConfigValues (0 ms)
[ RUN      ] ConfigManagerTest.HasKey
[       OK ] ConfigManagerTest.HasKey (0 ms)
[ RUN      ] ConfigManagerTest.ConfigChangeCallback
[       OK ] ConfigManagerTest.ConfigChangeCallback (0 ms)
[ RUN      ] ConfigManagerTest.SaveToFile
[       OK ] ConfigManagerTest.SaveToFile (0 ms)
[ RUN      ] ConfigManagerTest.GetAllKeys
[       OK ] ConfigManagerTest.GetAllKeys (0 ms)
[ RUN      ] ConfigManagerTest.GetKeysWithPrefix
[       OK ] ConfigManagerTest.GetKeysWithPrefix (0 ms)
[ RUN      ] ConfigManagerTest.ReloadConfig
[       OK ] ConfigManagerTest.ReloadConfig (0 ms)
[ RUN      ] ConfigManagerTest.TypeConversion
[       OK ] ConfigManagerTest.TypeConversion (0 ms)
[ RUN      ] ConfigManagerTest.ThreadSafety
[       OK ] ConfigManagerTest.ThreadSafety (9 ms)
[----------] 13 tests from ConfigManagerTest (13 ms total)

[----------] Global test environment tear-down
[==========] 13 tests from 1 test suite ran. (13 ms total)
[  PASSED  ] 13 tests.
<end of output>
Test time =   0.02 sec
----------------------------------------------------------
Test Passed.
"config_manager_test" end time: Nov 12 03:08 CST
"config_manager_test" time elapsed: 00:00:00
----------------------------------------------------------

6/10 Testing: config_manager_enhanced_test
6/10 Test: config_manager_enhanced_test
Command: "/home/liying/sqlcc/build-coverage/bin/config_manager_enhanced_test"
Directory: /home/liying/sqlcc/build-coverage/tests
"config_manager_enhanced_test" start time: Nov 12 03:08 CST
Output:
----------------------------------------------------------
Running main() from ./googletest/src/gtest_main.cc
[==========] Running 11 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 11 tests from ConfigManagerEnhancedTest
[ RUN      ] ConfigManagerEnhancedTest.LoadDefaultConfig
/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:188: Failure
Expected equality of these values:
  config.GetString("database.db_file_path")
    Which is: ""
  "./data/sqlcc.db"

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:189: Failure
Expected equality of these values:
  config.GetInt("database.db_file_size_limit")
    Which is: 0
  1024

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:190: Failure
Expected equality of these values:
  config.GetInt("database.page_size")
    Which is: 0
  8192

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:192: Failure
Expected equality of these values:
  config.GetInt("buffer_pool.pool_size")
    Which is: 0
  64

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:193: Failure
Expected equality of these values:
  config.GetString("buffer_pool.replacement_policy")
    Which is: ""
  "LRU"

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:194: Failure
Expected equality of these values:
  config.GetString("buffer_pool.prefetch_strategy")
    Which is: ""
  "SEQUENTIAL"

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:195: Failure
Expected equality of these values:
  config.GetInt("buffer_pool.prefetch_window")
    Which is: 0
  4

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:196: Failure
Expected equality of these values:
  config.GetInt("buffer_pool.flush_interval")
    Which is: 0
  30

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:197: Failure
Expected equality of these values:
  config.GetDouble("buffer_pool.dirty_page_threshold")
    Which is: 0
  0.75

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:199: Failure
Expected equality of these values:
  config.GetInt("disk_manager.io_thread_pool_size")
    Which is: 0
  4

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:200: Failure
Expected equality of these values:
  config.GetInt("disk_manager.batch_read_size")
    Which is: 0
  8

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:201: Failure
Expected equality of these values:
  config.GetInt("disk_manager.batch_write_size")
    Which is: 0
  8

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:202: Failure
Value of: config.GetBool("disk_manager.async_io")
  Actual: false
Expected: true

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:204: Failure
Expected equality of these values:
  config.GetString("disk_manager.io_scheduler")
    Which is: ""
  "FIFO"

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:206: Failure
Expected equality of these values:
  config.GetString("storage_engine.concurrency_control")
    Which is: ""
  "PESSIMISTIC"

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:207: Failure
Expected equality of these values:
  config.GetInt("storage_engine.lock_timeout")
    Which is: 0
  5000

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:208: Failure
Expected equality of these values:
  config.GetInt("storage_engine.deadlock_detection_interval")
    Which is: 0
  1000

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:209: Failure
Expected equality of these values:
  config.GetString("storage_engine.isolation_level")
    Which is: ""
  "READ_COMMITTED"

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:210: Failure
Expected equality of these values:
  config.GetInt("storage_engine.checkpoint_interval")
    Which is: 0
  60

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:212: Failure
Expected equality of these values:
  config.GetString("logging.log_level")
    Which is: ""
  "INFO"

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:213: Failure
Expected equality of these values:
  config.GetString("logging.log_file_path")
    Which is: ""
  "./logs/sqlcc.log"

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:214: Failure
Expected equality of these values:
  config.GetInt("logging.log_file_size_limit")
    Which is: 0
  100

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:215: Failure
Expected equality of these values:
  config.GetInt("logging.log_file_backup_count")
    Which is: 0
  5

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:216: Failure
Value of: config.GetBool("logging.log_to_console")
  Actual: false
Expected: true

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:219: Failure
Expected equality of these values:
  config.GetInt("performance.stats_interval")
    Which is: 0
  10

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:220: Failure
Expected equality of these values:
  config.GetString("performance.stats_output_path")
    Which is: ""
  "./stats/"

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:224: Failure
Expected equality of these values:
  config.GetString("testing.test_data_dir")
    Which is: ""
  "./test_data/"

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:225: Failure
Expected equality of these values:
  config.GetString("testing.test_output_dir")
    Which is: ""
  "./test_results/"

[  FAILED  ] ConfigManagerEnhancedTest.LoadDefaultConfig (0 ms)
[ RUN      ] ConfigManagerEnhancedTest.ParseConfigFile
[       OK ] ConfigManagerEnhancedTest.ParseConfigFile (0 ms)
[ RUN      ] ConfigManagerEnhancedTest.ParseInvalidConfigFile
[       OK ] ConfigManagerEnhancedTest.ParseInvalidConfigFile (0 ms)
[ RUN      ] ConfigManagerEnhancedTest.ReloadConfig
[       OK ] ConfigManagerEnhancedTest.ReloadConfig (0 ms)
[ RUN      ] ConfigManagerEnhancedTest.SaveToFile
/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:335: Failure
Expected: (content.find("database.page_size = 8192")) != (std::string::npos), actual: 18446744073709551615 vs 18446744073709551615

/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:336: Failure
Expected: (content.find("test.new.key = new_value")) != (std::string::npos), actual: 18446744073709551615 vs 18446744073709551615

[  FAILED  ] ConfigManagerEnhancedTest.SaveToFile (0 ms)
[ RUN      ] ConfigManagerEnhancedTest.GetAllKeys
[       OK ] ConfigManagerEnhancedTest.GetAllKeys (0 ms)
[ RUN      ] ConfigManagerEnhancedTest.GetKeysWithPrefix
/home/liying/sqlcc/tests/unit/config_manager_enhanced_test.cc:399: Failure
Expected equality of these values:
  db_keys.size()
    Which is: 5
  3

[  FAILED  ] ConfigManagerEnhancedTest.GetKeysWithPrefix (0 ms)
[ RUN      ] ConfigManagerEnhancedTest.NotifyConfigChange
[       OK ] ConfigManagerEnhancedTest.NotifyConfigChange (0 ms)
[ RUN      ] ConfigManagerEnhancedTest.CallbackExceptionHandling
Error in config change callback for key database.page_size: Test exception
<end of output>
Test time =   0.02 sec
----------------------------------------------------------
Test Failed.
"config_manager_enhanced_test" end time: Nov 12 03:08 CST
"config_manager_enhanced_test" time elapsed: 00:00:00
----------------------------------------------------------

7/10 Testing: buffer_pool_enhanced_test
7/10 Test: buffer_pool_enhanced_test
Command: "/home/liying/sqlcc/build-coverage/bin/buffer_pool_enhanced_test"
Directory: /home/liying/sqlcc/build-coverage/tests
"buffer_pool_enhanced_test" start time: Nov 12 03:08 CST
Output:
----------------------------------------------------------
Running main() from ./googletest/src/gtest_main.cc
[==========] Running 11 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 11 tests from BufferPoolEnhancedTest
[ RUN      ] BufferPoolEnhancedTest.ConstructorAndDestructor
[2025-11-12 03:08:56.490] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.491] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.491] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.491] [INFO] Initializing BufferPool with pool size: 5
[2025-11-12 03:08:56.491] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.491] [INFO] Initializing BufferPool with pool size: 5
/home/liying/sqlcc/tests/unit/buffer_pool_enhanced_test.cc:94: Failure
Expected equality of these values:
  page->GetData()[0]
    Which is: '\0'
  'X'
    Which is: 'X' (88, 0x58)

[2025-11-12 03:08:56.491] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.491] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.491] [INFO] Closing database file: /tmp/buffer_pool_test.db
[  FAILED  ] BufferPoolEnhancedTest.ConstructorAndDestructor (0 ms)
[ RUN      ] BufferPoolEnhancedTest.FetchPage
[2025-11-12 03:08:56.491] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.491] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.491] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.491] [WARN] Page 100 does not exist in file
[2025-11-12 03:08:56.491] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.491] [INFO] Closing database file: /tmp/buffer_pool_test.db
[       OK ] BufferPoolEnhancedTest.FetchPage (0 ms)
[ RUN      ] BufferPoolEnhancedTest.UnpinPage
[2025-11-12 03:08:56.491] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.492] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.492] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.492] [WARN] Page ID 100 not found in buffer pool
[2025-11-12 03:08:56.492] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.492] [INFO] Closing database file: /tmp/buffer_pool_test.db
[       OK ] BufferPoolEnhancedTest.UnpinPage (0 ms)
[ RUN      ] BufferPoolEnhancedTest.FlushPage
[2025-11-12 03:08:56.492] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.492] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.492] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.492] [WARN] Page ID 100 not found in buffer pool
[2025-11-12 03:08:56.492] [INFO] Initializing BufferPool with pool size: 5
/home/liying/sqlcc/tests/unit/buffer_pool_enhanced_test.cc:170: Failure
Expected equality of these values:
  page->GetData()[0]
    Which is: '\0'
  'Z'
    Which is: 'Z' (90, 0x5A)

[2025-11-12 03:08:56.492] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.492] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.492] [INFO] Closing database file: /tmp/buffer_pool_test.db
[  FAILED  ] BufferPoolEnhancedTest.FlushPage (0 ms)
[ RUN      ] BufferPoolEnhancedTest.FlushAllPages
[2025-11-12 03:08:56.492] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.492] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.492] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.492] [INFO] Initializing BufferPool with pool size: 5
/home/liying/sqlcc/tests/unit/buffer_pool_enhanced_test.cc:194: Failure
Expected equality of these values:
  page->GetData()[0]
    Which is: '\0'
  'A' + i
    Which is: 65

/home/liying/sqlcc/tests/unit/buffer_pool_enhanced_test.cc:194: Failure
Expected equality of these values:
  page->GetData()[0]
    Which is: '\x1' (1)
  'A' + i
    Which is: 66

/home/liying/sqlcc/tests/unit/buffer_pool_enhanced_test.cc:194: Failure
Expected equality of these values:
  page->GetData()[0]
    Which is: '\x2' (2)
  'A' + i
    Which is: 67

[2025-11-12 03:08:56.493] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.493] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.493] [INFO] Closing database file: /tmp/buffer_pool_test.db
[  FAILED  ] BufferPoolEnhancedTest.FlushAllPages (0 ms)
[ RUN      ] BufferPoolEnhancedTest.NewPage
[2025-11-12 03:08:56.493] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.493] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.493] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.493] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.493] [INFO] Closing database file: /tmp/buffer_pool_test.db
[       OK ] BufferPoolEnhancedTest.NewPage (0 ms)
[ RUN      ] BufferPoolEnhancedTest.DeletePage
[2025-11-12 03:08:56.493] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.493] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.493] [INFO] Initializing BufferPool with pool size: 10
/home/liying/sqlcc/tests/unit/buffer_pool_enhanced_test.cc:229: Failure
Expected equality of these values:
  deleted_page
    Which is: 0x61b158c2e490
  nullptr
    Which is: (nullptr)

[2025-11-12 03:08:56.493] [WARN] Page ID 100 not found in buffer pool
[2025-11-12 03:08:56.493] [WARN] Page ID 0 is still referenced, cannot delete
[2025-11-12 03:08:56.493] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.493] [INFO] Closing database file: /tmp/buffer_pool_test.db
[  FAILED  ] BufferPoolEnhancedTest.DeletePage (0 ms)
[ RUN      ] BufferPoolEnhancedTest.BufferPoolReplacement
[2025-11-12 03:08:56.493] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.493] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.493] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.493] [INFO] Initializing BufferPool with pool size: 2
[2025-11-12 03:08:56.493] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.493] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.494] [INFO] Closing database file: /tmp/buffer_pool_test.db
[       OK ] BufferPoolEnhancedTest.BufferPoolReplacement (0 ms)
[ RUN      ] BufferPoolEnhancedTest.BatchFetchPages
[2025-11-12 03:08:56.494] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.494] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.494] [INFO] Initializing BufferPool with pool size: 10
/home/liying/sqlcc/tests/unit/buffer_pool_enhanced_test.cc:275: Failure
Expected: (pages[1]) != (nullptr), actual: NULL vs (nullptr)

/home/liying/sqlcc/tests/unit/buffer_pool_enhanced_test.cc:276: Failure
Expected: (pages[2]) != (nullptr), actual: NULL vs (nullptr)

[2025-11-12 03:08:56.494] [ERROR] Invalid page ID: -1
/home/liying/sqlcc/tests/unit/buffer_pool_enhanced_test.cc:284: Failure
Expected equality of these values:
  pages_with_invalid[0]
    Which is: 0x61b158c3a750
  nullptr
    Which is: (nullptr)

/home/liying/sqlcc/tests/unit/buffer_pool_enhanced_test.cc:286: Failure
Expected: (pages_with_invalid[2]) != (nullptr), actual: NULL vs (nullptr)

[2025-11-12 03:08:56.494] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.494] [INFO] Closing database file: /tmp/buffer_pool_test.db
[  FAILED  ] BufferPoolEnhancedTest.BatchFetchPages (0 ms)
[ RUN      ] BufferPoolEnhancedTest.ConfigChangeCallback
[2025-11-12 03:08:56.494] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.494] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.494] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.494] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.495] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.495] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch enabled
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch strategy changed to SEQUENTIAL
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.495] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.496] [INFO] Buffer pool prefetch window changed to 8
[2025-11-12 03:08:56.496] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.496] [INFO] Closing database file: /tmp/buffer_pool_test.db
[       OK ] BufferPoolEnhancedTest.ConfigChangeCallback (1 ms)
[ RUN      ] BufferPoolEnhancedTest.ThreadSafety
[2025-11-12 03:08:56.496] [INFO] Initializing DiskManager for database file: /tmp/buffer_pool_test.db
[2025-11-12 03:08:56.496] [INFO] Opened database file: /tmp/buffer_pool_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.496] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.508] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.508] [INFO] Closing database file: /tmp/buffer_pool_test.db
[       OK ] BufferPoolEnhancedTest.ThreadSafety (12 ms)
[----------] 11 tests from BufferPoolEnhancedTest (18 ms total)

[----------] Global test environment tear-down
[==========] 11 tests from 1 test suite ran. (18 ms total)
[  PASSED  ] 6 tests.
[  FAILED  ] 5 tests, listed below:
[  FAILED  ] BufferPoolEnhancedTest.ConstructorAndDestructor
[  FAILED  ] BufferPoolEnhancedTest.FlushPage
[  FAILED  ] BufferPoolEnhancedTest.FlushAllPages
[  FAILED  ] BufferPoolEnhancedTest.DeletePage
[  FAILED  ] BufferPoolEnhancedTest.BatchFetchPages

 5 FAILED TESTS
<end of output>
Test time =   0.02 sec
----------------------------------------------------------
Test Failed.
"buffer_pool_enhanced_test" end time: Nov 12 03:08 CST
"buffer_pool_enhanced_test" time elapsed: 00:00:00
----------------------------------------------------------

8/10 Testing: page_enhanced_test
8/10 Test: page_enhanced_test
Command: "/home/liying/sqlcc/build-coverage/bin/page_enhanced_test"
Directory: /home/liying/sqlcc/build-coverage/tests
"page_enhanced_test" start time: Nov 12 03:08 CST
Output:
----------------------------------------------------------
Running main() from ./googletest/src/gtest_main.cc
[==========] Running 17 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 17 tests from PageEnhancedTest
[ RUN      ] PageEnhancedTest.DefaultConstructor
[       OK ] PageEnhancedTest.DefaultConstructor (0 ms)
[ RUN      ] PageEnhancedTest.ParameterizedConstructor
[       OK ] PageEnhancedTest.ParameterizedConstructor (0 ms)
[ RUN      ] PageEnhancedTest.WriteDataSuccess
[       OK ] PageEnhancedTest.WriteDataSuccess (0 ms)
[ RUN      ] PageEnhancedTest.WriteDataBoundary
[       OK ] PageEnhancedTest.WriteDataBoundary (0 ms)
[ RUN      ] PageEnhancedTest.WriteDataOutOfBounds
[2025-11-12 03:08:56.513] [ERROR] WriteData out of bounds: offset=8182, size=28, page_size=8192
[       OK ] PageEnhancedTest.WriteDataOutOfBounds (0 ms)
[ RUN      ] PageEnhancedTest.WriteDataOffsetZero
[       OK ] PageEnhancedTest.WriteDataOffsetZero (0 ms)
[ RUN      ] PageEnhancedTest.WriteDataEmpty
[       OK ] PageEnhancedTest.WriteDataEmpty (0 ms)
[ RUN      ] PageEnhancedTest.ReadDataSuccess
[       OK ] PageEnhancedTest.ReadDataSuccess (0 ms)
[ RUN      ] PageEnhancedTest.ReadDataBoundary
[       OK ] PageEnhancedTest.ReadDataBoundary (0 ms)
[ RUN      ] PageEnhancedTest.ReadDataOutOfBounds
[2025-11-12 03:08:56.513] [ERROR] ReadData out of bounds: offset=8182, size=100, page_size=8192
[       OK ] PageEnhancedTest.ReadDataOutOfBounds (0 ms)
[ RUN      ] PageEnhancedTest.ReadDataOffsetZero
[       OK ] PageEnhancedTest.ReadDataOffsetZero (0 ms)
[ RUN      ] PageEnhancedTest.ReadDataEmpty
[       OK ] PageEnhancedTest.ReadDataEmpty (0 ms)
[ RUN      ] PageEnhancedTest.MultipleReadWriteOperations
[       OK ] PageEnhancedTest.MultipleReadWriteOperations (0 ms)
[ RUN      ] PageEnhancedTest.OverwriteData
[       OK ] PageEnhancedTest.OverwriteData (0 ms)
[ RUN      ] PageEnhancedTest.PartialOverwriteData
[       OK ] PageEnhancedTest.PartialOverwriteData (0 ms)
[ RUN      ] PageEnhancedTest.LargeDataWrite
[       OK ] PageEnhancedTest.LargeDataWrite (0 ms)
[ RUN      ] PageEnhancedTest.BinaryData
[       OK ] PageEnhancedTest.BinaryData (0 ms)
[----------] 17 tests from PageEnhancedTest (0 ms total)

[----------] Global test environment tear-down
[==========] 17 tests from 1 test suite ran. (0 ms total)
[  PASSED  ] 17 tests.
<end of output>
Test time =   0.00 sec
----------------------------------------------------------
Test Passed.
"page_enhanced_test" end time: Nov 12 03:08 CST
"page_enhanced_test" time elapsed: 00:00:00
----------------------------------------------------------

9/10 Testing: disk_manager_enhanced_test
9/10 Test: disk_manager_enhanced_test
Command: "/home/liying/sqlcc/build-coverage/bin/disk_manager_enhanced_test"
Directory: /home/liying/sqlcc/build-coverage/tests
"disk_manager_enhanced_test" start time: Nov 12 03:08 CST
Output:
----------------------------------------------------------
Running main() from ./googletest/src/gtest_main.cc
[==========] Running 20 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 20 tests from DiskManagerEnhancedTest
[ RUN      ] DiskManagerEnhancedTest.ConstructorWithNonExistentFile
[2025-11-12 03:08:56.517] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.517] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.517] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.ConstructorWithNonExistentFile (0 ms)
[ RUN      ] DiskManagerEnhancedTest.ConstructorWithExistingFile
[2025-11-12 03:08:56.518] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.518] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 8192, next page ID: 1
/home/liying/sqlcc/tests/unit/disk_manager_enhanced_test.cc:152: Failure
Expected equality of these values:
  disk_manager.GetFileSize()
    Which is: 1
  8192

[2025-11-12 03:08:56.518] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[  FAILED  ] DiskManagerEnhancedTest.ConstructorWithExistingFile (0 ms)
[ RUN      ] DiskManagerEnhancedTest.ConstructorWithInvalidPath
[2025-11-12 03:08:56.518] [INFO] Initializing DiskManager for database file: /nonexistent/directory/test.db
[2025-11-12 03:08:56.518] [INFO] Database file does not exist, creating new file: /nonexistent/directory/test.db
[2025-11-12 03:08:56.518] [ERROR] Failed to open database file: /nonexistent/directory/test.db
[       OK ] DiskManagerEnhancedTest.ConstructorWithInvalidPath (0 ms)
[ RUN      ] DiskManagerEnhancedTest.WritePageSuccess
[2025-11-12 03:08:56.518] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.518] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
/home/liying/sqlcc/tests/unit/disk_manager_enhanced_test.cc:198: Failure
Expected equality of these values:
  disk_manager.GetFileSize()
    Which is: 1
  8192

[2025-11-12 03:08:56.518] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[  FAILED  ] DiskManagerEnhancedTest.WritePageSuccess (0 ms)
[ RUN      ] DiskManagerEnhancedTest.WritePageInvalidPageId
[2025-11-12 03:08:56.518] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.518] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.518] [ERROR] Invalid page ID: -1
[2025-11-12 03:08:56.518] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.WritePageInvalidPageId (0 ms)
[ RUN      ] DiskManagerEnhancedTest.WritePageNullPointer
[2025-11-12 03:08:56.519] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.519] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.519] [ERROR] Null page data pointer for page ID: 0
[2025-11-12 03:08:56.519] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.WritePageNullPointer (0 ms)
[ RUN      ] DiskManagerEnhancedTest.ReadPageSuccess
[2025-11-12 03:08:56.519] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.519] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.519] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.ReadPageSuccess (0 ms)
[ RUN      ] DiskManagerEnhancedTest.ReadPageInvalidPageId
[2025-11-12 03:08:56.519] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.519] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.520] [ERROR] Invalid page ID: -1 or null page data pointer
[2025-11-12 03:08:56.520] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.ReadPageInvalidPageId (0 ms)
[ RUN      ] DiskManagerEnhancedTest.ReadPageNullPointer
[2025-11-12 03:08:56.520] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.520] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.520] [ERROR] Invalid page ID: 0 or null page data pointer
[2025-11-12 03:08:56.520] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.ReadPageNullPointer (0 ms)
[ RUN      ] DiskManagerEnhancedTest.ReadPageNonExistentPage
[2025-11-12 03:08:56.520] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.520] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.520] [WARN] Page 0 does not exist in file
[2025-11-12 03:08:56.520] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.ReadPageNonExistentPage (0 ms)
[ RUN      ] DiskManagerEnhancedTest.AllocatePage
[2025-11-12 03:08:56.520] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.520] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.520] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.AllocatePage (0 ms)
[ RUN      ] DiskManagerEnhancedTest.GetFileSize
[2025-11-12 03:08:56.521] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.521] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
/home/liying/sqlcc/tests/unit/disk_manager_enhanced_test.cc:378: Failure
Expected equality of these values:
  disk_manager.GetFileSize()
    Which is: 1
  8192

/home/liying/sqlcc/tests/unit/disk_manager_enhanced_test.cc:382: Failure
Expected equality of these values:
  disk_manager.GetFileSize()
    Which is: 2
  16384

[2025-11-12 03:08:56.521] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[  FAILED  ] DiskManagerEnhancedTest.GetFileSize (0 ms)
[ RUN      ] DiskManagerEnhancedTest.BatchReadPages
[2025-11-12 03:08:56.521] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.521] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.521] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.BatchReadPages (0 ms)
[ RUN      ] DiskManagerEnhancedTest.BatchReadPagesInvalidParameters
[2025-11-12 03:08:56.521] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.521] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.521] [ERROR] Invalid batch read parameters: mismatched sizes or empty arrays
[2025-11-12 03:08:56.521] [ERROR] Invalid batch read parameters: mismatched sizes or empty arrays
[2025-11-12 03:08:56.521] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.BatchReadPagesInvalidParameters (0 ms)
[ RUN      ] DiskManagerEnhancedTest.PrefetchPage
[2025-11-12 03:08:56.521] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.522] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.522] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.PrefetchPage (0 ms)
[ RUN      ] DiskManagerEnhancedTest.PrefetchPageInvalidPageId
[2025-11-12 03:08:56.522] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.522] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.522] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.PrefetchPageInvalidPageId (0 ms)
[ RUN      ] DiskManagerEnhancedTest.BatchPrefetchPages
[2025-11-12 03:08:56.522] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.522] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.522] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.BatchPrefetchPages (0 ms)
[ RUN      ] DiskManagerEnhancedTest.BatchPrefetchPagesInvalidParameters
[2025-11-12 03:08:56.522] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.522] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.522] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.BatchPrefetchPagesInvalidParameters (0 ms)
[ RUN      ] DiskManagerEnhancedTest.ConfigChangeCallback
[2025-11-12 03:08:56.522] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.522] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.522] [INFO] Direct I/O enabled
[2025-11-12 03:08:56.522] [INFO] Direct I/O enabled
[2025-11-12 03:08:56.522] [INFO] I/O queue depth updated to: 16
[2025-11-12 03:08:56.522] [INFO] I/O queue depth updated to: 16
[2025-11-12 03:08:56.522] [INFO] Async I/O enabled
[2025-11-12 03:08:56.522] [INFO] Async I/O enabled
[2025-11-12 03:08:56.522] [INFO] Batch I/O size updated to: 16
[2025-11-12 03:08:56.522] [INFO] Batch I/O size updated to: 16
[2025-11-12 03:08:56.522] [INFO] Sync strategy updated to: FULL
[2025-11-12 03:08:56.522] [INFO] Sync strategy updated to: FULL
[2025-11-12 03:08:56.522] [INFO] Sync interval updated to: 60
[2025-11-12 03:08:56.523] [INFO] Sync interval updated to: 60
[2025-11-12 03:08:56.523] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[       OK ] DiskManagerEnhancedTest.ConfigChangeCallback (0 ms)
[ RUN      ] DiskManagerEnhancedTest.ThreadSafety
[2025-11-12 03:08:56.523] [INFO] Initializing DiskManager for database file: /tmp/sqlcc_test/test_enhanced.db
[2025-11-12 03:08:56.523] [INFO] Opened database file: /tmp/sqlcc_test/test_enhanced.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.523] [ERROR] Failed to read page 10
/home/liying/sqlcc/tests/unit/disk_manager_enhanced_test.cc:616: Failure
Value of: disk_manager.ReadPage(page_id, read_data)
  Actual: false
Expected: true

[2025-11-12 03:08:56.523] [ERROR] Failed to read page 20
/home/liying/sqlcc/tests/unit/disk_manager_enhanced_test.cc:616: Failure
Value of: disk_manager.ReadPage(page_id, read_data)
  Actual: false
Expected: true

/home/liying/sqlcc/tests/unit/disk_manager_enhanced_test.cc:619: Failure
Value of: VerifyPageData(read_data, 8192, i + j)
  Actual: false
Expected: true

[2025-11-12 03:08:56.523] [ERROR] Failed to read page 30
/home/liying/sqlcc/tests/unit/disk_manager_enhanced_test.cc:616: Failure
Value of: disk_manager.ReadPage(page_id, read_data)
  Actual: false
Expected: true

[2025-11-12 03:08:56.523] [INFO] Closing database file: /tmp/sqlcc_test/test_enhanced.db
[  FAILED  ] DiskManagerEnhancedTest.ThreadSafety (0 ms)
[----------] 20 tests from DiskManagerEnhancedTest (6 ms total)

[----------] Global test environment tear-down
[==========] 20 tests from 1 test suite ran. (6 ms total)
[  PASSED  ] 16 tests.
[  FAILED  ] 4 tests, listed below:
[  FAILED  ] DiskManagerEnhancedTest.ConstructorWithExistingFile
[  FAILED  ] DiskManagerEnhancedTest.WritePageSuccess
[  FAILED  ] DiskManagerEnhancedTest.GetFileSize
[  FAILED  ] DiskManagerEnhancedTest.ThreadSafety

 4 FAILED TESTS
<end of output>
Test time =   0.01 sec
----------------------------------------------------------
Test Failed.
"disk_manager_enhanced_test" end time: Nov 12 03:08 CST
"disk_manager_enhanced_test" time elapsed: 00:00:00
----------------------------------------------------------

10/10 Testing: storage_engine_enhanced_test
10/10 Test: storage_engine_enhanced_test
Command: "/home/liying/sqlcc/build-coverage/bin/storage_engine_enhanced_test"
Directory: /home/liying/sqlcc/build-coverage/tests
"storage_engine_enhanced_test" start time: Nov 12 03:08 CST
Output:
----------------------------------------------------------
Running main() from ./googletest/src/gtest_main.cc
[==========] Running 11 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 11 tests from StorageEngineEnhancedTest
[ RUN      ] StorageEngineEnhancedTest.ConfigChangeCallback
[2025-11-12 03:08:56.527] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.527] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.527] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.527] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.527] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.527] [INFO] Buffer pool size changed to 20
[2025-11-12 03:08:56.528] [INFO] Buffer pool size changed to: 20
[2025-11-12 03:08:56.528] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.528] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.528] [INFO] Closing database file: test_storage_engine.db
[       OK ] StorageEngineEnhancedTest.ConfigChangeCallback (0 ms)
[ RUN      ] StorageEngineEnhancedTest.NewPageFailure
[2025-11-12 03:08:56.528] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.528] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.528] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.528] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.528] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.528] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.528] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.528] [INFO] Buffer pool size changed to 1
[2025-11-12 03:08:56.528] [INFO] Buffer pool size changed to: 1
[2025-11-12 03:08:56.528] [INFO] Buffer pool size changed to 1
[2025-11-12 03:08:56.528] [INFO] Buffer pool size changed to: 1
[2025-11-12 03:08:56.528] [INFO] Initializing StorageEngine with database file: small_buffer_pool.db and pool size: 1
[2025-11-12 03:08:56.528] [INFO] Initializing DiskManager for database file: small_buffer_pool.db
[2025-11-12 03:08:56.528] [INFO] Opened database file: small_buffer_pool.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.528] [INFO] Initializing BufferPool with pool size: 1
[2025-11-12 03:08:56.528] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.528] [WARN] No page can be replaced in buffer pool
[2025-11-12 03:08:56.528] [ERROR] Failed to replace page in buffer pool for new page allocation
[2025-11-12 03:08:56.528] [ERROR] Failed to create new page
/home/liying/sqlcc/tests/unit/storage_engine_enhanced_test.cc:137: Failure
Expected: (page2) != (nullptr), actual: NULL vs (nullptr)

[2025-11-12 03:08:56.528] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.528] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.528] [INFO] Closing database file: small_buffer_pool.db
[2025-11-12 03:08:56.528] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.528] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.528] [INFO] Closing database file: test_storage_engine.db
[  FAILED  ] StorageEngineEnhancedTest.NewPageFailure (0 ms)
[ RUN      ] StorageEngineEnhancedTest.UnpinPageFailure
[2025-11-12 03:08:56.529] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.529] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.529] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.529] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.529] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.529] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.529] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.529] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.529] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.529] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.529] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.529] [WARN] Page ID 9999 not found in buffer pool
[2025-11-12 03:08:56.529] [WARN] Failed to unpin page ID 9999
[2025-11-12 03:08:56.529] [ERROR] Page ID 0 reference count is negative
[2025-11-12 03:08:56.529] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.529] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.529] [INFO] Closing database file: test_storage_engine.db
[       OK ] StorageEngineEnhancedTest.UnpinPageFailure (0 ms)
[ RUN      ] StorageEngineEnhancedTest.FlushPageFailure
[2025-11-12 03:08:56.529] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.529] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.529] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.529] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.529] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.529] [WARN] Page ID 9999 not found in buffer pool
[2025-11-12 03:08:56.529] [WARN] Failed to flush page ID 9999
[2025-11-12 03:08:56.529] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.529] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.529] [INFO] Closing database file: test_storage_engine.db
[       OK ] StorageEngineEnhancedTest.FlushPageFailure (0 ms)
[ RUN      ] StorageEngineEnhancedTest.DeletePageFailure
[2025-11-12 03:08:56.529] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.529] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.529] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.529] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.529] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.529] [WARN] Page ID 9999 not found in buffer pool
[2025-11-12 03:08:56.529] [WARN] Failed to delete page ID 9999
[2025-11-12 03:08:56.529] [WARN] Page ID 0 not found in buffer pool
[2025-11-12 03:08:56.529] [WARN] Failed to delete page ID 0
[2025-11-12 03:08:56.529] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.529] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.529] [INFO] Closing database file: test_storage_engine.db
[       OK ] StorageEngineEnhancedTest.DeletePageFailure (0 ms)
[ RUN      ] StorageEngineEnhancedTest.FetchPageFailure
[2025-11-12 03:08:56.529] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.529] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.529] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.529] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.529] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.529] [WARN] Page 9999 does not exist in file
[2025-11-12 03:08:56.529] [WARN] Failed to fetch page ID 9999
[2025-11-12 03:08:56.529] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.529] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.529] [INFO] Closing database file: test_storage_engine.db
[       OK ] StorageEngineEnhancedTest.FetchPageFailure (0 ms)
[ RUN      ] StorageEngineEnhancedTest.FlushAllPages
[2025-11-12 03:08:56.529] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.530] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.530] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.530] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.530] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.530] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.530] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.530] [INFO] Closing database file: test_storage_engine.db
[       OK ] StorageEngineEnhancedTest.FlushAllPages (0 ms)
[ RUN      ] StorageEngineEnhancedTest.DestructorFlushesPages
[2025-11-12 03:08:56.530] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.530] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.530] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.530] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.530] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.530] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.530] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.530] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.530] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.530] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.530] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.530] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.530] [INFO] Closing database file: test_storage_engine.db
[2025-11-12 03:08:56.530] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.530] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.530] [INFO] Opened database file: test_storage_engine.db, file size: 24576, next page ID: 3
[2025-11-12 03:08:56.530] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.530] [INFO] StorageEngine initialized successfully
/home/liying/sqlcc/tests/unit/storage_engine_enhanced_test.cc:378: Failure
Expected equality of these values:
  read_data
    Which is: "Destructor test data 2"
  expected_data
    Which is: "Destructor test data 0"

/home/liying/sqlcc/tests/unit/storage_engine_enhanced_test.cc:378: Failure
Expected equality of these values:
  read_data
    Which is: "Destructor test data 0"
  expected_data
    Which is: "Destructor test data 2"

[2025-11-12 03:08:56.530] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.530] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.530] [INFO] Closing database file: test_storage_engine.db
[2025-11-12 03:08:56.530] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.530] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.530] [INFO] Closing database file: test_storage_engine.db
[  FAILED  ] StorageEngineEnhancedTest.DestructorFlushesPages (0 ms)
[ RUN      ] StorageEngineEnhancedTest.MultiThreadedOperations
[2025-11-12 03:08:56.530] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.530] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.530] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.530] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.530] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.532] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.533] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.533] [INFO] Closing database file: test_storage_engine.db
[       OK ] StorageEngineEnhancedTest.MultiThreadedOperations (2 ms)
[ RUN      ] StorageEngineEnhancedTest.DeadlockDetection
[2025-11-12 03:08:56.533] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.533] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.533] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.533] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.533] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to 2
[2025-11-12 03:08:56.533] [INFO] Buffer pool size changed to: 2
[2025-11-12 03:08:56.533] [INFO] Initializing StorageEngine with database file: deadlock_test.db and pool size: 2
[2025-11-12 03:08:56.533] [INFO] Initializing DiskManager for database file: deadlock_test.db
[2025-11-12 03:08:56.533] [INFO] Opened database file: deadlock_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.533] [INFO] Initializing BufferPool with pool size: 2
[2025-11-12 03:08:56.533] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.533] [WARN] No page can be replaced in buffer pool
[2025-11-12 03:08:56.533] [ERROR] Failed to replace page in buffer pool for new page allocation
[2025-11-12 03:08:56.533] [ERROR] Failed to create new page
[2025-11-12 03:08:56.534] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.534] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.534] [INFO] Closing database file: deadlock_test.db
[2025-11-12 03:08:56.534] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.534] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.534] [INFO] Closing database file: test_storage_engine.db
[       OK ] StorageEngineEnhancedTest.DeadlockDetection (1 ms)
[ RUN      ] StorageEngineEnhancedTest.MultiThreadedDeadlockDetection
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 10
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 10
[2025-11-12 03:08:56.534] [INFO] Initializing StorageEngine with database file: test_storage_engine.db and pool size: 10
[2025-11-12 03:08:56.534] [INFO] Initializing DiskManager for database file: test_storage_engine.db
[2025-11-12 03:08:56.534] [INFO] Opened database file: test_storage_engine.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.534] [INFO] Initializing BufferPool with pool size: 10
[2025-11-12 03:08:56.534] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to 4
[2025-11-12 03:08:56.534] [INFO] Buffer pool size changed to: 4
[2025-11-12 03:08:56.534] [INFO] Initializing StorageEngine with database file: multi_deadlock_test.db and pool size: 4
[2025-11-12 03:08:56.534] [INFO] Initializing DiskManager for database file: multi_deadlock_test.db
[2025-11-12 03:08:56.534] [INFO] Opened database file: multi_deadlock_test.db, file size: 0, next page ID: 0
[2025-11-12 03:08:56.535] [INFO] Initializing BufferPool with pool size: 4
[2025-11-12 03:08:56.535] [INFO] StorageEngine initialized successfully
[2025-11-12 03:08:56.535] [WARN] No page can be replaced in buffer pool
[2025-11-12 03:08:56.535] [ERROR] Failed to replace page in buffer pool for new page allocation
[2025-11-12 03:08:56.535] [ERROR] Failed to create new page
[2025-11-12 03:08:56.535] [WARN] No page can be replaced in buffer pool
[2025-11-12 03:08:56.535] [ERROR] Failed to replace page in buffer pool for new page allocation
[2025-11-12 03:08:56.535] [ERROR] Failed to create new page
[2025-11-12 03:08:56.637] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.637] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.637] [INFO] Closing database file: multi_deadlock_test.db
[2025-11-12 03:08:56.637] [INFO] Destroying StorageEngine
[2025-11-12 03:08:56.637] [INFO] Destroying BufferPool
[2025-11-12 03:08:56.638] [INFO] Closing database file: test_storage_engine.db
[       OK ] StorageEngineEnhancedTest.MultiThreadedDeadlockDetection (103 ms)
[----------] 11 tests from StorageEngineEnhancedTest (110 ms total)

[----------] Global test environment tear-down
[==========] 11 tests from 1 test suite ran. (110 ms total)
[  PASSED  ] 9 tests.
[  FAILED  ] 2 tests, listed below:
[  FAILED  ] StorageEngineEnhancedTest.NewPageFailure
[  FAILED  ] StorageEngineEnhancedTest.DestructorFlushesPages

 2 FAILED TESTS
<end of output>
Test time =   0.12 sec
----------------------------------------------------------
Test Failed.
"storage_engine_enhanced_test" end time: Nov 12 03:08 CST
"storage_engine_enhanced_test" time elapsed: 00:00:00
----------------------------------------------------------

End testing: Nov 12 03:08 CST

unit_tests = 600.34 sec*proc

